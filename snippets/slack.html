<!DOCTYPE html><html lang="en"><head><link rel="preload" href="/fonts/inter-var-latin.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link href="/static/favicons/favicon.ico" rel="shortcut icon"/><link href="/static/favicons/site.webmanifest" rel="manifest"/><link rel="preconnect" href="https://cdn.usefathom.com" crossorigin=""/><link href="/static/favicons/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link color="#4a9885" href="/static/favicons/safari-pinned-tab.svg" rel="mask-icon"/><meta content="#ffffff" name="theme-color"/><meta content="#ffffff" name="msapplication-TileColor"/><meta content="/static/favicons/browserconfig.xml" name="msapplication-config"/><meta content="14d2e73487fa6c71" name="yandex-verification"/><meta content="eZSdmzAXlLkKhNJzfgwDqWORghxnJ8qR9_CHdAh5-xw" name="google-site-verification"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>Slack - Code Snippet</title><meta name="robots" content="follow, index"/><meta content="A collection of code snippets – including serverless functions, Node.js scripts, and CSS tricks." name="description"/><meta property="og:url" content="https://kumaarpranv.github.io/snippets/slack"/><link rel="canonical" href="https://kumaarpranv.github.io/snippets/slack"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Pranav kumar"/><meta property="og:description" content="A collection of code snippets – including serverless functions, Node.js scripts, and CSS tricks."/><meta property="og:title" content="Slack - Code Snippet"/><meta property="og:image" content="https://kumaarpranv.github.io/static/images/banner.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@amateurtheorist"/><meta name="twitter:title" content="Slack - Code Snippet"/><meta name="twitter:description" content="A collection of code snippets – including serverless functions, Node.js scripts, and CSS tricks."/><meta name="twitter:image" content="https://kumaarpranv.github.io/static/images/banner.png"/><meta name="next-head-count" content="18"/><link rel="preload" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/css/a4a73b1666999a74c447.css" as="style"/><link rel="stylesheet" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/css/a4a73b1666999a74c447.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/main-b53ad54fde926f8ee4c7.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/pages/_app-d9d931a11f6f217e030b.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/pages/snippets/%5Bslug%5D-74974f5726b8ca834190.js" as="script"/></head><body class="bg-white dark:bg-black text-white dark:text-black"><div id="__next"><div class="bg-white dark:bg-black"><nav class="flex items-center justify-between w-full max-w-4xl p-8 mx-auto my-0 text-gray-900 bg-white sticky-nav md:my-8 dark:bg-black bg-opacity-60 dark:text-gray-100"><a href="#skip" class="skip-nav">Skip to content</a><button aria-label="Toggle Dark Mode" type="button" class="w-10 h-10 p-3 bg-gray-200 rounded dark:bg-gray-800"></button><div><a class="p-1 text-gray-900 sm:p-4 dark:text-gray-100" href="/">Home</a><a class="p-1 text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About</a><a class="p-1 text-gray-900 sm:p-4 dark:text-gray-100" href="/blog">Blog</a><a class="p-1 text-gray-900 sm:p-4 dark:text-gray-100" href="/resourcelist">Resource List</a></div></nav><main id="skip" class="flex flex-col justify-center px-8 bg-white dark:bg-black"><article class="flex flex-col justify-center items-start max-w-2xl mx-auto mb-16 w-full"><div class="flex justify-between w-full mb-8"><div><h1 class="font-bold text-3xl md:text-5xl tracking-tight mb-4 text-black dark:text-white">Slack</h1><p class="text-gray-700 dark:text-gray-300">Create a slash command.</p></div><div class="mt-2 sm:mt-0"><img alt="Slack" height="48" width="48" src="/logos/slack.png" class="rounded-full"/></div></div><div class="prose dark:prose-dark w-full"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> token<span class="token punctuation">,</span> text <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>token <span class="token operator">!==</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">SLACK_TOKEN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> textUrl <span class="token operator">=</span> text <span class="token operator">&amp;&amp;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/says/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    response_type<span class="token operator">:</span> <span class="token string">&#x27;in_channel&#x27;</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://cataas.com/cat</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>textUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="usage"><a href="#usage" class="anchor"><span class="icon icon-link"></span></a>Usage</h2><div class="step flex items-center py-4"><div class="flex items-center justify-center border border-gray-200 font-bold dark:border-gray-900 rounded-full h-8 w-8 text-blue-500">1</div><h3 class="ml-3 tracking-tight font-bold">Create a Slack App</h3></div><p>First, <a target="_blank" rel="noopener noreferrer" href="https://api.slack.com/apps?new_app=1">create a Slack app</a>.
If you don&#x27;t have an organization yet, you&#x27;ll also need to <a target="_blank" rel="noopener noreferrer" href="https://slack.com/create">create one</a>.</p><div class="step flex items-center py-4"><div class="flex items-center justify-center border border-gray-200 font-bold dark:border-gray-900 rounded-full h-8 w-8 text-blue-500">2</div><h3 class="ml-3 tracking-tight font-bold">Add Slash Command</h3></div><p>With your app created, you can define a slash command.</p><ol><li>Navigate to &quot;Slash Commands&quot; and click &quot;Create New Command&quot;.</li><li>Fill out the form using the deployed URL for your function.</li><li>Hit &quot;Save&quot;.</li></ol><div class="step flex items-center py-4"><div class="flex items-center justify-center border border-gray-200 font-bold dark:border-gray-900 rounded-full h-8 w-8 text-blue-500">3</div><h3 class="ml-3 tracking-tight font-bold">Add To Workspace</h3></div><p>Navigate back to &quot;Basic Information&quot; click &quot;Install App to Workspace&quot;.
Make note of the Verification Token. We need to add this as an environment variable.</p><div class="step flex items-center py-4"><div class="flex items-center justify-center border border-gray-200 font-bold dark:border-gray-900 rounded-full h-8 w-8 text-blue-500">4</div><h3 class="ml-3 tracking-tight font-bold">Add Environment Variable</h3></div><p>To securely access the API, we need to include the secret with each request.
We also <em>do not</em> want to commit secrets to git. Thus, we should use an environment variable.
Learn how to add <a target="_blank" rel="noopener noreferrer" href="https://vercel.com/docs/environment-variables">environment variables in Vercel</a>.</p></div></article><footer class="flex flex-col justify-center items-start max-w-2xl mx-auto w-full mb-8"><hr class="w-full border-1 border-gray-200 dark:border-gray-800 mb-8"/><div class="w-full max-w-2xl grid grid-cols-1 gap-4 pb-16 sm:grid-cols-3"><div class="flex flex-col space-y-4"><a class="text-gray-500 hover:text-gray-600 transition" href="/">Home</a><a class="text-gray-500 hover:text-gray-600 transition" target="_blank" rel="noopener noreferrer" href="https://twitter.com/amateurtheorist">Twitter</a></div><div class="flex flex-col space-y-4"><a class="text-gray-500 hover:text-gray-600 transition" href="/about">About</a><a class="text-gray-500 hover:text-gray-600 transition" target="_blank" rel="noopener noreferrer" href="https://github.com/kumaarpranv">GitHub</a></div><div class="flex flex-col space-y-4"><a class="text-gray-500 hover:text-gray-600 transition" href="/blog">Blog</a><a class="text-gray-500 hover:text-gray-600 transition" target="_blank" rel="noopener noreferrer" href="https://linkedin.com/in/kumaarpranv">Linkedin</a></div></div></footer></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"mdxSource":{"compiledSource":"var l=Object.defineProperty,u=Object.defineProperties;var i=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,t)=\u003en in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=\u003e{for(var t in n||(n={}))o.call(n,t)\u0026\u0026r(e,t,n[t]);if(p)for(var t of p(n))c.call(n,t)\u0026\u0026r(e,t,n[t]);return e},m=(e,n)=\u003eu(e,i(n));var N=(e,n)=\u003e{var t={};for(var s in e)o.call(e,s)\u0026\u0026n.indexOf(s)\u003c0\u0026\u0026(t[s]=e[s]);if(e!=null\u0026\u0026p)for(var s of p(e))n.indexOf(s)\u003c0\u0026\u0026c.call(e,s)\u0026\u0026(t[s]=e[s]);return t};const makeShortcode=e=\u003efunction(t){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},t))},Step=makeShortcode(\"Step\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:e}=s,n=N(s,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"pre\",a({},{className:\"language-js\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-js\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"req\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" res\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" token\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" text \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" req\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"body\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"token \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" process\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"SLACK_TOKEN\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" res\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"status\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"400\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" textUrl \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" text \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u0026\u0026\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"/says/\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"text\",mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" res\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"status\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"200\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"json\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    response_type`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'in_channel'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    text`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"https://cataas.com/cat\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"textUrl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`)),mdx(\"h2\",a({},{id:\"usage\"}),mdx(\"a\",a({parentName:\"h2\"},{href:\"#usage\",className:\"anchor\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Usage\"),mdx(Step,{number:1,title:\"Create a Slack App\",mdxType:\"Step\"}),mdx(\"p\",null,\"First, \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://api.slack.com/apps?new_app=1\"}),\"create a Slack app\"),`.\nIf you don't have an organization yet, you'll also need to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://slack.com/create\"}),\"create one\"),\".\"),mdx(Step,{number:2,title:\"Add Slash Command\",mdxType:\"Step\"}),mdx(\"p\",null,\"With your app created, you can define a slash command.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},'Navigate to \"Slash Commands\" and click \"Create New Command\".'),mdx(\"li\",{parentName:\"ol\"},\"Fill out the form using the deployed URL for your function.\"),mdx(\"li\",{parentName:\"ol\"},'Hit \"Save\".')),mdx(Step,{number:3,title:\"Add To Workspace\",mdxType:\"Step\"}),mdx(\"p\",null,`Navigate back to \"Basic Information\" click \"Install App to Workspace\".\nMake note of the Verification Token. We need to add this as an environment variable.`),mdx(Step,{number:4,title:\"Add Environment Variable\",mdxType:\"Step\"}),mdx(\"p\",null,`To securely access the API, we need to include the secret with each request.\nWe also `,mdx(\"em\",{parentName:\"p\"},\"do not\"),` want to commit secrets to git. Thus, we should use an environment variable.\nLearn how to add `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://vercel.com/docs/environment-variables\"}),\"environment variables in Vercel\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"tweetIDs":[],"frontMatter":{"wordCount":183,"readingTime":{"text":"1 min read","minutes":0.905,"time":54300,"words":181},"slug":"slack","title":"Slack","description":"Create a slash command.","logo":"slack.png"}},"__N_SSG":true},"page":"/snippets/[slug]","query":{"slug":"slack"},"buildId":"W_L7-NRZ6N4Ym8gVy0ZjZ","assetPrefix":"https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages","isFallback":false,"gsp":true}</script><script nomodule="" src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/main-b53ad54fde926f8ee4c7.js" async=""></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/pages/_app-d9d931a11f6f217e030b.js" async=""></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/chunks/pages/snippets/%5Bslug%5D-74974f5726b8ca834190.js" async=""></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/W_L7-NRZ6N4Ym8gVy0ZjZ/_buildManifest.js" async=""></script><script src="https://cdn.statically.io/gh/kumaarpranv/kumaarpranv.github.io/gh-pages/_next/static/W_L7-NRZ6N4Ym8gVy0ZjZ/_ssgManifest.js" async=""></script></body></html>